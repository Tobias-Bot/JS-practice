<script>

/***********************************************/
/* #1 Reverse array without creating a new one */
/***********************************************/

Array.prototype.ReverseArray = function () {
  let len = this.length;

  for (let i = 0; i < len / 2; i++) {
    let buf = this[i];
    this[i] = this[len - i - 1];
    this[len - i - 1] = buf;
  }

  return this;
};

// console.log([0, 1, 2, 3, 4].ReverseArray());


/**************************/
/* #2 What is the output? */
/**************************/

let a = {
  name: "test",
};

let b = {
  name: "test",
};

/* 
a == b (false) and a === b (false). That's false because
a and b are sources, aren't values and they point on different
parts of memory and that's why they aren't equal
*/


/************************************************/
/* #3 Will it change the value in the function? */
/************************************************/

let s = "Hello";

const F = (a) => {
  a = "Hi";
};

F(s);

/* 
It won't change the value in the function, because
string type isn't referencial and for example arrays
and objects work the other way.
*/


/*********************/
/* #4 Find max value */
/*********************/

Array.prototype.MaxVal = function() {
  let arr = this;
  let len = arr.length;
  let max = 0;

  for (let i = 0; i < len; i++) {
    if (arr[i] > max) {
      max = arr[i];
    }
  }

  return max;
}

// console.log([-5, 10, 12.4, 335, 5.8, 41.1].MaxVal());

/*************************/
/* #5 What is the output */
/*************************/

for (var i = 0; i < 3; i++) {
  setTimeout(function() {
    // console.log(i);
  }, 0);
}

// 3 3 3

// This output because of the i variable which was declared
// as a global (var). It was implemented in the last iteration
// and that's why it equals 3.

// To resolve this problem you need to put let instead of var
// in the cycle to make i local variable. The second way to
// resolve this task is put parameters in the function of
// setTimeout() like this: 

// setTimeout(function(i) {
//   // console.log(i);
// }, 0, i);

/***********************/
/* #6 Find palindromes */
/***********************/

Array.prototype.FindPalindromes = function() {
  let arr = this;
  let result = [];

  for (let str of arr) {
    let len = str.length;

    let a = Math.floor(len / 2);
    let b = !(len % 2) ? a : Math.ceil(len / 2);

    let part1 = str.substring(0, a);
    let part2 = str.substring(b, len);

    if (part1 === part2.split('').reverse().join('')) result.push(str);
  }

  return result;
};

// console.log(['abcba', '214890jf', '47387834', 'ffffff', '01700710'].FindPalindromes());

/***************************************************/
/* #7 Find Fibonacci number. Input: serial number; */
/* Output: number. Function must be recursive      */
/***************************************************/

let num = 0;
let prev = 1;
let old = 0;
let counter = 1;

function FindFibonacciNum(i) {

  old = prev;
  prev = num;
  num = old + num;

  if (counter == i) {
    return num;
  }

  counter++;

  return FindFibonacciNum(i);
}

// console.log('FibonacciNum:',FindFibonacciNum(8));

</script>
